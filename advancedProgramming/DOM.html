<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DOM</title>
    <style>

    </style>
</head>
<body>
    <div id="divid" name="divname" data-my_special_attribute= "hello"><!--注释-->  hello world!</div>

    <p name="my">p  paragraph</p>

    <!-- <ul id="mylist">
        <li>item 1</li>
        <li>item 2</li>
        <li>item 3</li>
    </ul> -->
    <ul id="mylist"><li>item 1</li><li>item 2</li><li>item 3</li></ul>

    <div id="div1">hello</div>

</body>
<script>
    //每个节点都有一个nodeType 属性，用于表明节点的类型
/* 
    var div = document.getElementById("divid");
    console.log(div.nodeType);    // 1
    // 说明div节点是Element类型

    console.log(div.nodeName);    // div
    // 元素的标签名

    console.log(div.nodeValue);   // null
    // 对于元素节点，nodeValue 的值始终为null

    console.log(div.firstChild.nodeType);     // 8
    // div 元素里的第一个节点是注释类型

    console.log(div.firstChild.nodeValue);    // 注释
    // div 元素里的第一个节点的值是注释

    console.log(div.getAttribute("name"));  // divname
    // 获取属性节点

    console.log(div.getAttributeNode("name").nodeType); // 2
    // 是属性类型

    console.log(div.childNodes[1].nodeValue); // "  hello world!"
    // div 中第二个节点的值，空格也算

    console.log(document.nodeType);     // 9
    // document  的节点类型是 文档类型 */



    // childNodes 属性
    /* var div = document.getElementById("divid");
    console.log(div.childNodes[0]);     // <!--注释-->   获取div里的第一个子节点
    console.log(div.childNodes.item(0));    // <!--注释-->
    console.log(div.childNodes.length);     // 2 
     */

    //将 NodeList 对象转换为数组
    // 在 IE8 及之前版本无效
     /* var div = document.getElementById("divid");
     var arr = Array.prototype.slice.call(div.childNodes,0);
     console.log(arr);  

     //  所有浏览器都可以
     function convertToArray(nodes){
        var array = null;
        try{
            array = Array.prototype.slice.call(node,0);     // 针对非 IE 浏览器
        }catch(ex){
            array = new Array();
            for(var i = 0, len=nodes.length; i < len; i++){
                array.push(nodes[i]);
            }
        }
        return array;
     }  
     console.log(convertToArray(divid.childNodes));   */


    /* var p = document.getElementsByTagName("p").namedItem('my');
    console.log(p);

    var a = document.getElementsByTagName("p")["my"];
    console.log(a);

    var b = document.getElementById("divid").tagName;
    console.log(b);     // DIV

    // 自定义属性
    var value = document.getElementById("divid").getAttribute("data-my_special_attribute");
    console.log(value); */
    

     // 返回name属性
    /* var a = document.getElementById("divid").attributes.getNamedItem("name");
    console.log(a);     // name="divname"
    
    //  也可用方括号语法
    var b = document.getElementById("divid").attributes["name"]; */
    

     /* // 遍历元素的属性      以name = "value"的格式返回
    function outputAttributes(element){
        var pairs = new Array(),
        attrName,
        attrValue,
        i,
        len;

        for(i=0,len = element.attributes.length; i < len; i++){
            attrName = element.attributes[i].nodeName;
            attrValue = element.attributes[i].nodeValue;
            pairs.push(attrName + "=\""+ attrValue + "\"");
        }
        return pairs.join("  ");
    }
    var div = document.getElementById("divid"); 
    console.log(outputAttributes(div));     // id="divid"  name="divname"  data-my_special_attribute="hello"
 */



    // 创建元素：
    /* var creatediv = document.createElement("div");
    creatediv.id = "myNewId";
    creatediv.innerText = "div content";

    console.log(creatediv.nodeName);    // DIV

    // 新创建的元素要添加到文档的<body>中,浏览器才会呈现该元素
    document.body.appendChild(creatediv); */


    // 元素的子节点：
    /* var li = document.getElementById("mylist").childNodes.length;
    console.log(li); */

    
    // text 类型
   /*  var d = document.getElementById("div1").childNodes.length;
    console.log(d); 

    // 创建文本节点
    var textNode = document.createTextNode("<strong>hello</strong>"); */


    // 创建 <script>元素
       /*  var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "index.js";
        document.body.appendChild(script); */

    // 用函数封装
   /*  function loadScript(url){
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = url;
        document.body.appendChild(script);
    }
    loadScript("index.js");
    // 调用这个函数来加载外部的JavaScript文件 */



    // 动态创建link元素包含的外部文件
    /* var link = document.createElement("link");
    link.type = "text/css";
    link.rel = "stylesheet";
    link.href = "style.css";
    var head = document.getElementsByTagName("head")[0];
    head.appendChild(link); */
</script> 

</html>